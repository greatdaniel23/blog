---
interface Props {
    currentPage?: string;
}

const { currentPage = "" } = Astro.props;

const navItems = [
    { href: "/", label: "Home", key: "home" },
    { href: "/blog/", label: "Blog", key: "blog" },
    { href: "/gallery/", label: "Gallery", key: "gallery" },
    {
        href: "/booking-engine/",
        label: "Booking Engine",
        key: "booking-engine",
    },
    { href: "/about/", label: "About", key: "about" },
];
---

<!-- Header -->
<header
    class="fixed top-0 w-full z-50 px-6 py-4 md:px-12 md:py-5 flex justify-between items-center bg-gradient-to-b from-background-light/90 to-transparent dark:from-background-dark/90 backdrop-blur-[1px]"
>
    <a
        href="/"
        class="font-display font-extrabold text-xl md:text-2xl tracking-tighter uppercase relative z-10"
    >
        Alpha<span class="text-primary">.</span>
    </a>

    <!-- Desktop Navigation -->
    <nav
        class="hidden md:flex gap-8 text-[10px] md:text-[11px] font-bold uppercase tracking-[0.2em] text-slate-500 dark:text-slate-400"
    >
        {
            navItems.map((item) => (
                <a
                    href={item.href}
                    class:list={[
                        "transition-colors",
                        currentPage === item.key
                            ? "text-primary border-b-2 border-primary pb-1"
                            : "hover:text-primary",
                    ]}
                >
                    {item.label}
                </a>
            ))
        }
    </nav>

    <!-- Mobile Menu Button -->
    <button
        id="mobile-menu-btn"
        class="md:hidden p-2 text-charcoal dark:text-white"
        aria-label="Toggle menu"
    >
        <span class="material-symbols-outlined">menu</span>
    </button>
</header>

<!-- Mobile Navigation Overlay -->
<div
    id="mobile-menu"
    class="fixed inset-0 z-40 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-sm hidden md:hidden"
>
    <nav
        class="flex flex-col items-center justify-center h-full gap-8 text-lg font-bold uppercase tracking-widest"
    >
        {
            navItems.map((item) => (
                <a
                    href={item.href}
                    class:list={[
                        "transition-colors",
                        currentPage === item.key
                            ? "text-primary"
                            : "text-charcoal dark:text-white hover:text-primary",
                    ]}
                >
                    {item.label}
                </a>
            ))
        }
    </nav>
</div>

<script is:inline>
    const menuBtn = document.getElementById("mobile-menu-btn");
    const mobileMenu = document.getElementById("mobile-menu");

    if (menuBtn && mobileMenu) {
        menuBtn.addEventListener("click", () => {
            mobileMenu.classList.toggle("hidden");
            const icon = menuBtn.querySelector("span");
            if (icon) {
                icon.textContent = mobileMenu.classList.contains("hidden")
                    ? "menu"
                    : "close";
            }
        });
    }
</script>
